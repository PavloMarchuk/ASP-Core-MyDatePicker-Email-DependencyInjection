@model DatePicker_Email.Models.Student

@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Student: (з датапікером)</h2>
<hr />
<div class="row">
	<div class="col-md-4">
		<form asp-controller="Home" asp-action="Contact" method="post">
			<div asp-validation-summary="ModelOnly" class="text-danger"></div>
			<div class="form-group">
				<label asp-for="FirstName" class="control-label"></label>
				<input asp-for="FirstName" class="form-control" />
				<span asp-validation-for="FirstName" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label asp-for="LastName" class="control-label"></label>
				<input asp-for="LastName" class="form-control" />
				<span asp-validation-for="LastName" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label asp-for="Birthday" class="control-label"></label>
				<input asp-for="Birthday" type="text" class="form-control datepicker" />
				<span asp-validation-for="Birthday" class="text-danger"></span>
			</div>


			<div class="form-group">
				<label asp-for="Birthday" class="control-label"></label>
				
				<div class="input-group date"
					 data-provide="datepicker"
					 data-date-autoclose="true"
					 data-date-format="dd.mm.yyyy"
					 data-date-language="@System.Globalization.CultureInfo.CurrentCulture.Name.Substring(0,2)">
					<input asp-for="Birthday" type="text" class="form-control" name="DateBirth" />
					<div class="input-group-addon">
						<span class="glyphicon glyphicon-th-large"></span>
					</div>
				</div>
				<span asp-validation-for="Birthday" class="text-danger"></span>
			</div>

			<div class="form-group">
				<input type="submit" value="✉ Записати в лист" class="btn btn-default" />
			</div>
		</form>
	</div>
</div>


@section Scripts {
	@{await Html.RenderPartialAsync("_ValidationScriptsPartial");}


	<script src="~/lib/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
	<script src="~/lib/bootstrap-datepicker/dist/locales/bootstrap-datepicker.uk.min.js"></script>

	<script type="text/javascript">
		$(function () {
			$(function () {

				$("input[type='data']").each(arr, function (i, val) {
					arr.val(arr.val().substr(1, 8));
				});

			});

		});
		var culture = "@System.Globalization.CultureInfo.CurrentCulture.Name".substr(0, 2);
		$('.datepicker').datepicker({ language: culture, format: 'yyyy-mm-dd' });
	</script>
}
